flowchart LR
    U[User] --> W[Workflow]
    W --> R[(Redis<br/>Short-term<br/>Auto-managed)]
    W --> P[(PostgreSQL<br/>Long-term<br/>Manual save)]

    classDef user fill:#dbeafe,stroke:#3b82f6,stroke-width:2px,color:#1e40af
    classDef workflow fill:#ede9fe,stroke:#8b5cf6,stroke-width:2px,color:#5b21b6
    classDef redis fill:#fee2e2,stroke:#ef4444,stroke-width:2px,color:#b91c1c
    classDef postgres fill:#d1fae5,stroke:#10b981,stroke-width:2px,color:#065f46

    class U user
    class W workflow
    class R redis
    class P postgres
