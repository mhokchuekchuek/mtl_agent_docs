flowchart TD
    subgraph Input
        DS[Datasets]
        CFG[Configs]
    end

    subgraph Evaluation
        SVC[EvaluationService]
        REPO[EvaluationRepository]
        JDG[Judges]
    end

    subgraph Output
        RES[Results]
        CSV[Summary CSV]
    end

    DS --> SVC
    CFG --> SVC
    SVC --> REPO
    REPO --> |Invoke API| API[Chatbot API]
    API --> REPO
    REPO --> JDG
    JDG --> |LLM| LLM[LLM API]
    LLM --> JDG
    JDG --> REPO
    REPO --> SVC
    SVC --> RES
    SVC --> CSV

    classDef input fill:#dbeafe,stroke:#3b82f6,stroke-width:2px,color:#1e40af
    classDef service fill:#d1fae5,stroke:#10b981,stroke-width:2px,color:#065f46
    classDef repo fill:#fed7aa,stroke:#f97316,stroke-width:2px,color:#c2410c
    classDef judge fill:#ede9fe,stroke:#8b5cf6,stroke-width:2px,color:#5b21b6
    classDef api fill:#cffafe,stroke:#06b6d4,stroke-width:2px,color:#0e7490
    classDef output fill:#fef3c7,stroke:#f59e0b,stroke-width:2px,color:#b45309

    class DS,CFG input
    class SVC service
    class REPO repo
    class JDG judge
    class API,LLM api
    class RES,CSV output
