flowchart LR
    1[1. Load settings] --> 2[2. Create FastAPI app]
    2 --> 3[3. Lifespan: init services]
    3 --> 4[4. Store in app.state]
    4 --> 5[5. Ready to serve]

    classDef step1 fill:#dbeafe,stroke:#3b82f6,stroke-width:2px,color:#1e40af
    classDef step2 fill:#cffafe,stroke:#06b6d4,stroke-width:2px,color:#0e7490
    classDef step3 fill:#fef3c7,stroke:#f59e0b,stroke-width:2px,color:#b45309
    classDef step4 fill:#fed7aa,stroke:#f97316,stroke-width:2px,color:#c2410c
    classDef step5 fill:#d1fae5,stroke:#10b981,stroke-width:2px,color:#065f46

    class 1 step1
    class 2 step2
    class 3 step3
    class 4 step4
    class 5 step5
